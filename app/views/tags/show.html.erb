<%= render "shared/table" do %>
  <%= render "shared/table/head", column_headings: %w(Box Tags Items) %>
  <%= render "shared/table/body" do %>
    <% unless @tag&.boxes.blank? %>
      <% @tag.boxes.each do |box| %>
        <%= render "shared/table/row" do %>
          <%= render "shared/table/cell" do %>
            <%= link_to household_box_path(current_household, box), class: "flex gap-2" do %>
              <%= render "shared/icons/box" %>
              <%= "##{box.padded_number(current_user)}" %>
            <% end %>
          <% end %>
          <%= render "shared/table/cell_flex" do %>
            <% box.tags&.each do |tag| %>
              <%= render "shared/tag", tag: tag %>
            <% end %>
          <% end %>
          <%= render "shared/table/cell" do %>
            <%= link_to household_box_path(current_household, box) do %>
              <%= render "shared/badge", icon: "items" do %>
                <%= box.items.count %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% else %>
      <%= render "shared/table/row" do %>
        <%= render "shared/table/cell" do %>
          You haven't added any boxes yet!
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
